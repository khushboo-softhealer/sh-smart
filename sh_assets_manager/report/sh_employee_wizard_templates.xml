<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="assets_employee_report_doc">
        <t t-call="web.basic_layout">
            <div class="page">
                <div style="width:100%;box-sizing: border-box;text-align:center;">
                    <t t-foreach="dic_assets.keys()" t-as="emp_name">
                        <h4>
                            <t t-esc="emp_name" />
                        </h4>
                        <t t-set="list_emp_assets" t-value="dic_assets[emp_name]" />

                        <t t-foreach="list_emp_assets" t-as="dic_emp_assets">
                            <div
                                style="box-sizing: border-box;width:33%;border:1px black solid;display:inline-block;text-align:center;padding:5px 0;">
                                <t t-esc="dic_emp_assets['sh_ebs_barcode']" />
                                <div t-esc="dic_emp_assets['sh_ebs_barcode']"
                                    t-if="len(dic_emp_assets['sh_ebs_barcode']) == 13"
                                    t-options="{'widget': 'barcode','symbology': 'EAN13', 'width': 600, 'height': 150, 'img_style': 'width:100%;height:4rem'}" />
                                <div t-esc="dic_emp_assets['sh_ebs_barcode']"
                                    t-elif="len(dic_emp_assets['sh_ebs_barcode']) == 8"
                                    t-options="{'widget': 'barcode','symbology': 'EAN8', 'width': 600, 'height': 150, 'img_style': 'width:100%;height:4rem'}" />
                                <div t-esc="dic_emp_assets['sh_ebs_barcode']"
                                    t-else=""
                                    t-options="{'widget': 'barcode','symbology': 'Code128', 'width': 600, 'height': 150, 'img_style': 'width:100%;height:4rem'}" />
                                <t t-esc="dic_emp_assets['category_name']" />
                            </div>
                        </t>
                    </t>
                </div>
            </div>
        </t>
    </template>

    <record id="action_report_barcode_employee_assets" model="ir.actions.report">
        <field name="name">Employee Assets Report</field>
        <field name="model">employee.wizard</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">sh_assets_manager.assets_employee_report_doc</field>
        <field name="report_file">sh_assets_manager.assets_employee_report_doc</field>
        <field name="print_report_name">'Employee Assets Report'</field>
        <field name="binding_model_id" ref="model_employee_wizard" />
        <field name="binding_type">report</field>
    </record>
</odoo>