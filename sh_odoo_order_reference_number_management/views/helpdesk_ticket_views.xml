<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="sh_helpdesk_tickets_inherited_view_form" model="ir.ui.view">
        <field name="name">sh.sh.helpdesk.tickets.crm.view.form</field>
        <field name="model">sh.helpdesk.ticket</field>
        <field name="inherit_id" ref="sh_helpdesk.helpdesk_ticket_form_view" />
        <field name="arch" type="xml">

            <!-- <xpath expr="//group//field[@name='store_reference']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath> -->
            <xpath expr="//group//field[@name='sh_order_date']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//group//field[@name='sh_days_left']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//group//field[@name='sh_total_order_qty']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//group//field[@name='sh_total_order_price_unit']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//page[2]" position="after">
                <page name="odoo_apps_details" string="Odoo App Details" groups="sh_odoo_order_reference_number_management.sh_odoo_order_reference_odoo_app_details" attrs="{'invisible':[('odoo_store_ticket','=',False)]}">
                    <form>
                        <group>
                            <group >
                                <div>
                                <button name="update_store_reference" type="object" string="Update Order Reference"
                                class="oe_highlight" />
                                </div>    
                                <field name="sh_valid_store_reference_bool" invisible="1"/>   
                                <field name="odoo_store_ticket" invisible="1"/>"
                                <field name="sh_order_date" attrs="{'invisible':[('sh_valid_store_reference_bool','=',False)]}"/>      
                            </group>
                            <group >
                                <field name="country" attrs="{'invisible':[('sh_valid_store_reference_bool','=',False)]}"/>             
                                <field name="sh_days_left" string="Days Left for Support" attrs="{'invisible':[('sh_valid_store_reference_bool','=',False)]}"/>       
                                <field name="sale_order_lines" invisible="1"/>
                            </group>
                        </group>
                        <notebook>
                            
                            <page name="sale_order_line" string="Product Lines">
                                <button name="action_get_so_lines" string="Get Orders Details" type="object" class="btn btn-primary"/>
                                <field name="sale_order_lines" >
                                    <tree>
                                        <field name="odoo_partner_id" optional="hide"/>
                                        <field name="company_id" invisible="1"/>
                                        <field name="country" /> 
                                        <field name="origin" /> 
                                        <field name="so_order_date" optional="hide"/> 
                                        <field name="product_template_id"/>
                                        <field name="product_uom_qty" />
                                        <field name="price_unit"/>
                                        <field name="price_subtotal"/>
                                        <field name="sh_price_subtotal"/>
                                        <field name="currency_id" invisible="1" />
                                    </tree>
                                </field>
                                <group name="note_group" col="6" class="mt-2 mt-md-0">
                                    <group colspan="4">
                                    </group>
                                    <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                        <field name="sh_total_order_qty" colspan="2" readonly="1"/>
                                        <field name="sh_total_order_price_unit" colspan="2" readonly="1" />
                                    </group>
                                    <div class="clearfix"/>
                                </group>
                            </page>
                        </notebook>
                    </form>
                </page>
                
            </xpath>
        </field>
    </record>
</odoo>