<?xml version='1.0' encoding='utf-8'?>
<odoo>

    <template id="sh_leave_report_template">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <t t-if="len(docs) > 1">
                    <div class="page">
                        <div class="topbar" style="padding: 16px 5px;">
                            <center>
                                <h2 style="margin-top: 0px; padding-bottom: 0px;">Leave Request</h2>
                            </center>
                        </div>
                        <div class="table_area" style="padding-left: 20px; padding-right: 20px;">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th class="text-dark" style="border: 2px solid black; background-color: #e0e0e0;">Employee</th>
                                        <th class="text-dark" style="border: 2px solid black; background-color: #e0e0e0;">Leave Type</th>
                                        <th class="text-dark" style="border: 2px solid black; background-color: #e0e0e0;">About Leave</th>
                                        <th class="text-dark" style="border: 2px solid black; background-color: #e0e0e0;">Duration</th>
                                        <th class="text-dark" style="border: 2px solid black; background-color: #e0e0e0;">Days</th>
                                        <th class="text-dark" style="border: 2px solid black; background-color: #e0e0e0;">Date</th>
                                        <th class="text-dark" style="border: 2px solid black; background-color: #e0e0e0;">Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="docs" t-as="o">
                                        <tr style="border: 2px solid black;">
                                            <td style="padding: 10px 5px; border: 2px solid black;">
                                                <span t-field="o.employee_id" />
                                            </td>

                                            <td style="padding: 10px 5px; border: 2px solid black;">
                                                <span t-field="o.holiday_status_id" />
                                            </td>

                                            <td style="padding: 10px 5px; border: 2px solid black;">
                                                <span t-field="o.name" />
                                            </td>

                                            <td style="padding: 10px 5px; border: 2px solid black;">
                                                <span t-field="o.request_date_from" />
                                                To
                                                <span t-field="o.request_date_to" />
                                            </td>

                                            <td style="padding: 10px 5px; border: 2px solid black;">
                                                <span t-field="o.number_of_days" />
                                            </td>

                                            <td style="padding: 10px 5px; border: 2px solid black;">
                                                <span t-field="o.create_date" />
                                            </td>

                                            <td style="padding: 10px 5px; border: 2px solid black;">
                                                <span t-field="o.state" />
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </t>
                <t t-else="">
                    <t t-foreach="docs" t-as="o">
                        <div class="page">
                            <div class="topbar" style="padding: 12px 5px;">
                                <center>
                                    <h2 style="margin-top:0px; padding-bottom: 0px;">Leave Request</h2>
                                </center>
                            </div>
                            <div class="emp_info" style="padding: 20px 20px;">
                                <h4 class="text-primary">Employee Information :</h4>
                                <address>
                                    <b class="text-dark">
                                        <span t-field="o.employee_id" />
                                    </b>
                                    <br />
                                    <i class="fa fa-user" aria-hidden="true"></i>
                                    <![CDATA[&nbsp;&nbsp;&nbsp;]]>
                                    <span t-field="o.employee_id.job_id" />
                                    <br />
                                    <i class="fa fa-building" aria-hidden="true"></i>
                                    <![CDATA[&nbsp;&nbsp;]]>
                                    <span t-field="o.employee_id.department_id" />
                                    <br />
                                    <t t-if="o.employee_id.work_email">
                                        <i class="fa fa-envelope" aria-hidden="true"></i>
                                        <![CDATA[&nbsp;&nbsp;]]>
                                        <span t-field="o.employee_id.work_email" />
                                        <br />
                                    </t>
                                    <t t-if="o.employee_id.mobile_phone">
                                        <i class="fa fa-phone" aria-hidden="true"></i>
                                        <![CDATA[&nbsp;&nbsp;&nbsp;]]>
                                        <span t-field="o.employee_id.mobile_phone" />
                                    </t>
                                </address>
                            </div>
                            <div class="table_area" style="padding-left: 20px; padding-right: 20px;">
                                <table class="table table-bordered">
                                    <tr style="border: 2px solid black;">
                                        <td class="text-dark td_left" style="padding: 10px 5px; border: 2px solid black; background-color: #e0e0e0;">Leave Type</td>
                                        <td style="padding: 10px 5px; border: 2px solid black;">
                                            <span t-field="o.holiday_status_id" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="text-dark td_left" style="padding: 10px 5px; border: 2px solid black; background-color: #e0e0e0;">About Leave</td>
                                        <td style="padding: 10px 5px; border: 2px solid black;">
                                            <span t-field="o.name" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="text-dark td_left" style="padding: 10px 5px; border: 2px solid black; background-color: #e0e0e0;">Duration</td>
                                        <td style="padding: 10px 5px; border: 2px solid black;">
                                            <span t-field="o.request_date_from" />
                                            To
                                            <span t-field="o.request_date_to" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="text-dark td_left" style="padding: 10px 5px; border: 2px solid black; background-color: #e0e0e0;">Days</td>
                                        <td style="padding: 10px 5px; border: 2px solid black;">
                                            <span t-field="o.number_of_days" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="text-dark td_left" style="padding: 10px 5px; border: 2px solid black; background-color: #e0e0e0;">Date</td>
                                        <td style="padding: 10px 5px; border: 2px solid black;">
                                            <span t-field="o.create_date" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="text-dark td_left" style="padding: 10px 5px; border: 2px solid black; background-color: #e0e0e0;">Status</td>
                                        <td style="padding: 10px 5px; border: 2px solid black;">
                                            <span t-field="o.state" />
                                        </td>
                                    </tr>
                                </table>
                            </div>

                            <div class="comment_area" style="padding: 20px 0px; padding-left: 20px; padding-right: 20px;">
                                <h4 class="text-primary">Comment by Manager :</h4>
                                <p>
                                    <span t-field="o.report_note" />
                                </p>
                            </div>

                            <div class="bottom_area" style="padding: 40px 20px;">
                                <div class="float-start">
                                    <center>
                                        <p style="margin-bottom: 0px;">__________________________________</p>
                                        <h6>
                                            <span t-field="o.employee_id.parent_id" />
                                        </h6>
                                        <p>
                                            <b>Manager</b>
                                        </p>
                                    </center>
                                </div>
                                <div class="float-end">
                                    <center>
                                        <p style="margin-bottom: 0px;">__________________________________</p>
                                        <h6>
                                            <span t-field="o.employee_id" />
                                        </h6>
                                        <p>
                                            <b>
                                                <span t-field="o.employee_id.job_id" />
                                            </b>
                                        </p>
                                    </center>
                                </div>
                            </div>
                        </div>
                    </t>
                </t>
            </t>
        </t>
    </template>

    <record id="sh_leave_report.leave_report_paperformat" model="report.paperformat">
        <field name="name">Leave</field>
        <field name="format">A4</field>
        <field name="page_height">0</field>
        <field name="page_width">0</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">50</field>
        <field name="margin_bottom">20</field>
        <field name="margin_left">4</field>
        <field name="margin_right">4</field>
        <field name="header_line" eval="False" />
        <field name="header_spacing">45</field>
        <field name="dpi">90</field>
    </record>

    <record id="sh_action_leave_report" model="ir.actions.report">
        <field name="name">Leave Report</field>
        <field name="model">hr.leave</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">sh_leave_report.sh_leave_report_template</field>
        <field name="report_file">sh_leave_report.sh_leave_report_template</field>
        <field name="print_report_name">'Leave Report'</field>
        <field name="binding_model_id" ref="hr_holidays.model_hr_leave" />
        <field name="paperformat_id" ref="sh_leave_report.leave_report_paperformat" />
        <field name="binding_type">report</field>
    </record>

</odoo>
