<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record id="helpdesk_ticket_form_view" model="ir.ui.view">
			<field name="name">sh.helpdesk.ticket.form.view</field>
			<field name="model">sh.helpdesk.ticket</field>

			<field name="arch" type="xml">
				<form string="Ticket">
					<header>
						<!-- <button name="action_approve" type="object" string="Approve" class="oe_highlight" attrs="{'invisible':['|','|','|',('cancel_stage_boolean','=',True),('done_stage_boolean','=',True),('closed_stage_boolean','=',True)]}" groups="sh_helpdesk.helpdesk_group_team_leader" /> -->
						<button name="action_approve" type="object" string="Approve" class="oe_highlight" attrs="{'invisible':['|','|',('cancel_stage_boolean','=',True),('done_stage_boolean','=',True),('closed_stage_boolean','=',True)]}" groups="sh_helpdesk.helpdesk_group_team_leader" />
						<button name="action_reply" type="object" string="Reply" class="oe_highlight" groups="sh_helpdesk.helpdesk_group_team_leader" invisible='1'/>
						<button name="action_send_whatsapp" type="object" string="Send By Whatsapp" class="oe_highlight" groups="sh_helpdesk.helpdesk_group_whatsapp" />
						<button name="action_done" type="object" string="Resolved Ticket" class="oe_highlight" attrs="{'invisible':[('done_button_boolean','=',False)]}" groups="sh_helpdesk.helpdesk_group_team_leader" invisible='1'/>
						<button name="action_closed" type="object" string="Close Ticket" class="oe_highlight" attrs="{'invisible':[('done_stage_boolean','=',False)]}" groups="sh_helpdesk.helpdesk_group_team_leader" />
						<button name="action_cancel" type="object" string="Cancel Ticket" class="oe_highlight" attrs="{'invisible':[('cancel_button_boolean','=',False)]}" groups="sh_helpdesk.helpdesk_group_team_leader" invisible='1'/>
						<button name="action_open" type="object" string="Re-Open Ticket" class="oe_highlight" attrs="{'invisible':[('open_boolean','=',False)]}" groups="sh_helpdesk.helpdesk_group_team_leader" />
						<button name="action_give_feedback" type="object" string="Feedback" class="btn btn-primary" invisible='1'/>
						<button name="action_assign_to_me" type="object" string="Assign to me" class="btn btn-primary" invisible='1'/>
						<button name="%(sh_helpdesk.sh_action_check_downgrade)d" type="action" string="Check Downgrade" class="btn btn-primary" attrs="{'invisible':[('sh_click_downgrade','=',True)]}" groups="sh_helpdesk.helpdesk_group_team_leader" invisible='1'/>
						<button name="preview_ticket" type="object" string="Preview" invisible='1'/>
						<button name="action_log_note" type="object" string="Add Log Note"/>
						<field name="stage_id" widget="statusbar" options="{'clickable': '1'}" groups="sh_helpdesk.helpdesk_group_team_leader" />
					</header>
					<sheet>
						<field name="active" invisible="1"/>
						
						
						<div class="oe_button_box" name="button_box" groups="sh_helpdesk.helpdesk_group_team_leader">
							<button name="preview_ticket" type="object" class="oe_stat_button" icon="fa-globe icon">
								<div class="o_field_widget o_stat_info">
									<span class="o_stat_text">Preview</span>
								</div>
							</button>							
							<button name="action_view_odoo_end_tickets" type="object" class="oe_stat_button" icon="fa-ticket" attrs="{'invisible':[('odoo_end_ticket_count','=',0)]}" groups="sh_helpdesk.sh_odoo_end_ticket_group" invisible='1'>
								<div class="o_stat_info">
									<field name="odoo_end_ticket_count" class="o_stat_value sh_odoo_end_ticket_smart_button" readonly="1" />
									<span class="o_stat_text">Odoo End Tickets</span>
								</div>
							</button>
							<button name="action_view_old_tickets_of_customer" type="object" class="oe_state_button" icon="fa-ticket">
								<div class="o_stat_info">
									<field name="sh_same_ticket_count" class="o_stat_value" />
									<span class="o_stat_text">Releted Tickets</span>
								</div>
							</button>
							<!-- == For Helpdesk Task -->
							<button type="object" name="view_task" class="oe_stat_button" icon="fa-pencil-square-o" groups="sh_helpdesk.helpdesk_group_user">
								<field name="task_count" widget="statinfo" string="Tasks" />
							</button>
						</div>
						<widget name="web_ribbon" title="Archived" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>
						<div style="text-align:center" class="alert alert-danger" role="alert" attrs="{'invisible':[('sh_competitors_added','=',False)]}">
							<field name="sh_competitors_added"/>
						</div>
						<div class="oe_title">
							<h1>
								<field name="name" readonly="1" />
								<field name="sh_common_compute_form" invisible="1"/>
								<field name="category_bool" invisible="1" />
								<field name="sub_category_bool" invisible="1" />
								<field name="rating_bool" invisible="1" />
								<field name="sh_status_boolean" invisible="1"/>
								<field name="done_stage_boolean" invisible="1" />
								<field name="cancel_stage_boolean" invisible="1" />
								<field name="closed_stage_boolean" invisible="1" />
								<field name="ticket_from_website" invisible="1" />
								<field name="reopen_stage_boolean" invisible="1" />
								<field name="cancel_button_boolean" invisible="1" />
								<field name="done_button_boolean" invisible="1" />
								<field name="open_boolean" invisible="1" />
								<field name="sh_days_to_reach" invisible="1"/>
								<field name="sh_days_to_late" invisible="1"/>
								<field name="sh_ticket_report_url" invisible="1"/>
								<field name="sh_click_downgrade" invisible="1"/>
								<field name="portal_ticket_url_wp" invisible="1"/>
								<field name="report_token" invisible="1"/>
								<field name="task_id" widget="badge" decoration-success="stage_id != 'False'" groups="sh_helpdesk.helpdesk_group_team_leader"/>
							</h1>
							<field name="sh_sla_status_ids" widget="many2many_tags" options="{'color_field': 'color'}" readonly="1" force_save="1" groups="sh_helpdesk.group_helpdesk_sla_policy"/>
						</div>
						<group>
							<group>
								<field name="sh_display_multi_user" invisible="1" />
								<field name="sh_display_product" invisible="1" />
								<field name="company_id" groups="base.group_multi_company" readonly="1" invisible="1" />
								<field name="state" />
								<field name="ticket_type" />
								<field name="ticket_allocated" invisible="1" />
								<field name="team_id" widget="selection" invisible="1"/>
								<field name="team_head" widget="selection" readonly="1" force_save="1" invisible="1" />
								<field name="user_id" invisible="1" />
								<field name="sh_user_ids" widget="many2many_tags" options="{'no_quick_create': True, 'no_create_edit': True}" />
								<field name="subject_id" invisible="1" />
								<field name="category_id" />
								<field name="sub_category_id" attrs="{'invisible':[('sub_category_bool','=',False)]}" invisible="1" />
								<field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}" />
								<field name="priority" />
								<field name="email_subject"/>
								<field name="odoo_store_ticket" groups="sh_helpdesk.helpdesk_group_team_leader"/>
								<field name="store_reference" groups="sh_helpdesk.helpdesk_group_team_leader"/>
								<field name="store_reference" invisible="1"/>
								<field name="sh_order_date" attrs="{'invisible':[('store_reference','=',False)]}"/>
								<field name="sh_days_left" attrs="{'invisible':[('store_reference','=',False)]}"/>
								<field name="sh_total_order_qty" attrs="{'invisible':[('store_reference','=',False)]}"/>
								<field name="sh_total_order_price_unit" attrs="{'invisible':[('store_reference','=',False)]}"/>
								<field name="sh_default_sale_quotation_template" groups="sh_helpdesk.helpdesk_group_team_leader"/>
								<field name="sh_store_link" widget="url" attrs="{'invisible':[('sh_store_link','=',False)]}"/>
								<field name="sh_special" groups="sh_helpdesk.helpdesk_group_team_leader"/>
								<field name="sh_feedback_link" invisible="1"/>
								<field name="sh_odoo_end_ticket_id" invisible="1"/>
								<field name="sh_ticket_vals" invisible="1"/>
								<field name="sh_close_ticket" invisible="1"/>
							</group>
							<group>
								<field name="create_date" string="Create Date" groups="sh_helpdesk.helpdesk_group_team_leader" />
								<field name="write_date" string="Last Update Date" groups="sh_helpdesk.helpdesk_group_team_leader" />
								<field name="partner_id" groups="sh_helpdesk.helpdesk_group_team_leader" options="{'no_quick_create': True, 'no_create_edit': True}" force_save="1"  />
								<field name="partner_category_id" groups="sh_helpdesk.helpdesk_group_team_leader" options="{'no_quick_create': True, 'no_create_edit': True}"  />
								<field name="partner_ids" widget="many2many_tags" invisible="1" options="{'no_quick_create': True, 'no_create_edit': True}"   />
								<field name="followers_added" invisible="1"/>
								<field name="person_name" groups="sh_helpdesk.helpdesk_group_team_leader" invisible="1"  />
								<field name="email" groups="sh_helpdesk.helpdesk_group_team_leader" force_save="1" />
								<field name="mobile_no" groups="sh_helpdesk.helpdesk_group_team_leader" invisible="1"/>
								<field name="replied_date" />
								<field name="task_ids" widget="many2many_tags" invisible="1" />
								<field name="product_ids" widget="many2many_tags" options="{'no_quick_create': True, 'no_create_edit': True}" />
								<field name="product_technical_name"/>
								<field name="sh_sale_order_ids" string="Sale Orders" widget="many2many_tags" invisible="1" />
								<field name="sh_invoice_ids" string="Invoices" widget="many2many_tags" invisible="1" />
								<field name="sh_edition_id" widget="selection"/>
								<field name="sh_odoo_hosted_id" widget="selection"/>
								<field name="sh_due_date" widget="remaining_days" options="{'allow_order': '1'}" />
								<field name="sh_version_id" widget="selection"/>
								<field name="sh_status" invisible="1"/>
								<field name="sh_ticket_replied_status" groups="sh_helpdesk.helpdesk_group_manager"/>
								<field name="sh_auto_followup" groups="sh_helpdesk.helpdesk_group_team_leader"/>
								
                				<field name="sh_number_of_followup_taken" invisible="1"/>
							</group>
						</group>
						<notebook>
							<page string="Description">
								<!-- <group> -->
								<field name="description" nolabel="1" />
								<!-- </group> -->
							</page>
							<page string="Attachments">
								<field name="attachment_ids" mode="kanban">
									<kanban>
										<field name="id"/>
										<field name="mimetype"/>
										<field name="type"/>
										<field name="datas"/>
										<field name="create_uid"/>
										<field name="url"/>
										<field name="type"/>
										<field name="create_date"/>
										<field name="name"/>
										<field name="res_name"/>
										<templates>
											<t t-name="kanban-box">
												<div class="oe_kanban_global_area o_kanban_attachment oe_kanban_global_click">
													<div class="o_kanban_image">
														<div class="o_kanban_image_wrapper">
															<t t-set="webimage" t-value="new RegExp('image.*(gif|jpeg|jpg|png)').test(record.mimetype.value)"/>
															<div t-if="record.type.raw_value == 'url'" class="o_url_image"/>
															<img t-elif="webimage" t-attf-src="/web/image/#{record.id.raw_value}?field=thumbnail" width="100" height="100" alt="Document" class="o_attachment_image"/>
															<div t-else="!webimage" class="o_image o_image_thumbnail" t-att-data-mimetype="record.mimetype.value"/>
														</div>
													</div>
													<div class="o_kanban_details">
														<div class="o_kanban_details_wrapper">
															<div t-att-title="record.datas.raw_value" class="o_kanban_record_title">
																<t t-if="record.type.raw_value == 'url'">
																	<field name="name" class="o_text_overflow"/>
																</t>
																<t t-else="">
																	<field name="datas" class="o_text_overflow"/>
																</t>
															</div>

															<div class="o_kanban_record_bottom">
																<time class="oe_kanban_bottom_left">
																	<field name="create_date" widget="date"/>
																</time>
																<div class="oe_kanban_bottom_right">
																	<img t-att-src="kanban_image('res.users', 'image_small', record.create_uid.raw_value)" t-att-data-member_id="record.create_uid.raw_value" t-att-alt="record.create_uid.raw_value" width="32" height="32" class="oe_kanban_avatar"/>
																</div>
															</div>
														</div>
													</div>
												</div>
											</t>
										</templates>
									</kanban>
								</field>
							</page>
							<page string="Customer Rating" attrs="{'invisible':[('rating_bool','=',False)]}" groups="sh_helpdesk.helpdesk_group_team_leader">
								<group>
									<field name="priority_new" widget="priority" />
									<field name="customer_comment" />
								</group>
							</page>
							<page string="Followup History" groups="sh_helpdesk.helpdesk_group_team_leader" attrs="{'invisible':[('sh_auto_followup','=',False)]}">
								<group>
									<group>
										<field name="sh_followup_template_id" />
									</group>
								</group>
								<field name="sh_followup_history_ids">
									<tree editable="bottom">
										<field name="sh_date_of_followup"/>
										<field name="sh_schedule_date"/>
										<field name="sh_email_template_id"/>
										<field name="sh_status"/>
										<field name="sh_failure_reason"/>
									</tree>
								</field>
							</page>
							<page string="Other Information" attrs="{'invisible':[('rating_bool','=',False)]}" groups="sh_helpdesk.helpdesk_group_team_leader">
								<group>
									<group string="Ticket Closed Information">
										<field name="close_date" />
										<field name="close_by" />
										<field name="comment" string="Closed Comment" />
									</group>
									<group string="Ticket Cancelled Information">
										<field name="cancel_date" />
										<field name="cancel_by" />
										<field name="cancel_reason" />
										<field name="form_url" invisible="1" />
									</group>
								</group>
								<group>
									<group string="Other Important Things">
										<field name="sh_check_downgrade"/>
										<field name="sh_sla_deadline" attrs="{'invisible':[('sh_sla_deadline','=',False)]}" groups="sh_helpdesk.group_helpdesk_sla_policy"/>
										<field name="sh_sla_policy_ids" widget="many2many_tags" force_save="1" invisible="1"/>
										<field name="sh_ticket_alarm_ids" options="{'no_quick_create': True, 'no_create_edit': True}" widget="many2many_tags" groups="sh_helpdesk.group_helpdesk_alarm"/>
									</group>
								</group>
							</page>
						</notebook>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers" />
						<field name="activity_ids" widget="mail_activity" />
						<field name="message_ids" widget="mail_thread" />
					</div>
				</form>
			</field>
		</record>
		<record id="helpdesk_ticket_tree_view" model="ir.ui.view">
			<field name="name">sh.helpdesk.ticket.tree.view</field>
			<field name="model">sh.helpdesk.ticket</field>
			<field name="arch" type="xml">
				<tree string="Ticket">
					<field name="name" />
					<field name="partner_id" groups="sh_helpdesk.helpdesk_group_team_leader" />
					<field name="create_date" string="Create Date" />
					<!-- <field name="fourty_eight_hours" invisible="1"/> -->
					<!-- <field name="seventy_two_hours" invisible="1"/> -->
					<field name="write_date" string="Last Update Date" />
					<field name="ticket_type" />
					<field name="team_id" />
					<field name="team_head" />
					<field name="user_id" invisible="1" />
					<field name="subject_id" invisible="1" />
					<field name="category_id" />
					<field name="sub_category_id" />
					<field name="stage_id" />
					<field name="task_id" widget="badge" decoration-success="stage_id != 'False'" groups="sh_helpdesk.helpdesk_group_team_leader"/>
				</tree>
			</field>
		</record>
		<record id="helpdesk_ticket_search_view" model="ir.ui.view">
			<field name="name">sh.helpdesk.ticket.search.view</field>
			<field name="model">sh.helpdesk.ticket</field>
			<field name="arch" type="xml">
				<search string="Helpdesk Ticket Search">
					<field name="name" string="Ticket" filter_domain="['|','|','|','|','|', '|', '|','|', '|', '|', ('name', 'ilike', self), ('sh_user_ids.name', 'ilike', self),('user_id.name', 'ilike', self),('email','ilike',self),('mobile_no','ilike',self),('partner_id.name','ilike',self),('store_reference','ilike',self),('product_ids.name','ilike',self),('product_ids.sh_technical_name','ilike',self),('email_subject','ilike',self),('tag_ids.name','ilike',self)]"/>
					<field name="create_date" />
					<field name="write_date" />
					<field name="partner_id" />
					<field name="ticket_type" />
					<field name="team_id" />
					<field name="team_head" />
					<field name="user_id" />
					<field name="subject_id" invisible="1" />
					<field name="category_id" />
					<field name="sub_category_id" />
					<field name="stage_id" />
					<field name="sh_invoice_ids" />                
					<field name="sh_sale_order_ids"/>
					<field name="store_reference"/>
					<field name="email_subject"/>
					<field name="description"/>
					<separator />
					<filter string="Customer Replied" name="customer_replied_status" domain="[('state','=','customer_replied')]"/>
					<filter string="Sale Order" name="helpdesk_po" domain="[('sh_sale_order_ids','!=',False)]" />
					<filter string="Invoice" name="helpdesk_invoice" domain="[('sh_invoice_ids','!=',False)]" />
					<filter string="Odoo Store Ticket" name="odoo_store_ticket" domain="[('odoo_store_ticket','=',True)]"/>
					<filter string="My Ticket" name="assigned_to_me" domain="['|',('user_id', '=', uid),('sh_user_ids','in',[uid])]" />
					<filter string="Check Downgrade Versions" name="check_downgrade" domain="[('sh_check_downgrade','=',True)]"/>
					<separator />
					<filter string="New Tickets" name="new_ticket" domain="[('new_stage_boolean', '=', True)]" />
					<filter string="Completed Tickets" name="complete_ticket" domain="[('done_stage_boolean', '=', True)]" />
					<filter string="Cancelled Tickets" name="cancel_ticket" domain="[('cancel_stage_boolean', '=', True)]" />
					<filter string="Automatic Closed Tickets" name="auto_close" domain="[('sh_close_ticket','=',True)]"/>
					<filter string="Archived" name="archived" domain="[('active', '=', False)]" />
					<separator />
					<filter string="SLA Failed" name="sla_failed" domain="[('sh_status','=','sla_failed')]" groups="sh_helpdesk.group_helpdesk_sla_policy" />
					<filter string="SLA Passed" name="sla_passed" domain="[('sh_status','=','sla_passed')]" groups="sh_helpdesk.group_helpdesk_sla_policy" />
					<filter string="SLA Partially Passed" name="sh_partially_passed" domain="[('sh_status','=','sh_partially_passed')]" groups="sh_helpdesk.group_helpdesk_sla_policy" />
					<filter string="Staff Replied" domain="[('sh_ticket_replied_status','=','staff')]" name="staff_replied_ticket"/>
					<filter string="Customer Replied" domain="[('sh_ticket_replied_status','=','customer')]" name="customer_replied_ticket"/>
					<filter string="Customer Replied(Odoo end tickets)" domain="[('person_name','=','unknown customer'),('state','=','customer_replied')]" name="customer_replied_odoo_end_tickets"/>
					<filter string="Staff Replied(Odoo end tickets)" domain="[('person_name','=','unknown customer'),('state','=','staff_replied')]" name="customer_replied_odoo_end_tickets"/>


				
					
						<filter
							string="Replied Last 24 Hours"
							name="filter_last_24_hours"
							domain="[('replied_date', '>=', datetime.datetime.now() - datetime.timedelta(hours=48)), ('replied_date', '&lt;', datetime.datetime.now() - datetime.timedelta(hours=24))]"
							/>

						<filter
							string="Replied Last 48 Hours"
							name="filter_last_48_hours"
							domain="[('replied_date', '>=', datetime.datetime.now() - datetime.timedelta(hours=72)), ('replied_date', '&lt;', datetime.datetime.now() - datetime.timedelta(hours=48))]"
						  />
						  

						<filter
						  string="Replied Last 72 Hours or Ago"
						  name="filter_last_72_hours"
						  domain="[('replied_date', '&lt;=', datetime.datetime.now() - datetime.timedelta(hours=72))]"
						/>
						<filter string="Replied Last 5 Days or Ago" name="filter_5_days_ago" domain="[('replied_date', '&lt;=', datetime.datetime.now() - datetime.timedelta(hours=120))]"/>
						<filter string="Replied Last 7 Days or 1 week or Ago" name="filter_last_168_hours" domain="[('replied_date', '&lt;=', datetime.datetime.now() - datetime.timedelta(hours=168))]"/>
						<filter string="Replied Last 14 Days or 2 week or Ago" name="filter_last_336_hours" domain="[('replied_date', '&lt;=', datetime.datetime.now() - datetime.timedelta(hours=336))]"/>
																	

					<group expand="0" string="Group By">
						<filter string="Created By" name="user" context="{'group_by':'create_uid'}" />
						<filter string="Ticket Type" name="ticket_type" context="{'group_by':'ticket_type'}" />
						<filter name="stage" string="Stage" context="{'group_by':'stage_id'}" />
						<filter name="customer" string="Customer" context="{'group_by':'partner_id'}" />
						<filter name="category" string="Category" context="{'group_by':'category_id'}" />
						<filter name="subcategory" string="Sub Category" context="{'group_by':'sub_category_id'}" />
						<filter name="team" string="Team" context="{'group_by':'team_id'}" />
						<filter name="team_head" string="Team Head" context="{'group_by':'team_head'}" />
						<filter name="user_id" string="Assigned User" context="{'group_by':'user_id'}" />
						<filter name="subject" string="Subject" context="{'group_by':'subject_id'}" invisible="1" />
						<filter name="priority" string="Priority" context="{'group_by':'priority'}" />
						<filter name="state" string="Reply Status" context="{'group_by':'state'}" />
						<filter string="Partner Category" name="partner_category" domain="[]" context="{'group_by':'partner_category_id'}"/>
					</group>
				</search>
			</field>
		</record>
		<record model="ir.ui.view" id="helpdesk_ticket_kanban">
			<field name="name">sh.helpdesk.ticket.kanban</field>
			<field name="model">sh.helpdesk.ticket</field>
			<field name="arch" type="xml">
				<kanban default_group_by="stage_id" class="o_kanban_small_column o_opportunity_kanban" archivable="false">
					<field name="name" />
					<field name="color" />
					<field name="priority" />
					<field name="stage_id" />
					<field name="user_id" />
					<field name="tag_ids" />
					<field name="store_reference"/>
					<field name="email_subject"/>
					<field name="state"/>
					<!-- <field name="fourty_eight_hours"/> -->
					<!-- <field name="seventy_two_hours"/> -->
					<templates>
						<t t-name="kanban-box">
							<div t-attf-class="#{kanban_color(record.color.raw_value)} oe_kanban_global_click">
								<div class="oe_kanban_content">
									<div style="float:right;">
										<field name="task_id" widget="badge" decoration-success="stage_id != 'False'" groups="sh_helpdesk.helpdesk_group_team_leader"/>
									</div>
									<div>
										<strong>
											<t t-if="record.store_reference.value">
												<field name="store_reference"/>
												<strong>-</strong>
											</t>
											<field name="name" class="fw-bolder" />
											<t t-if="record.email_subject.value">
												<strong>:</strong>
												<span t-att-title="record.email_subject.value" style="overflow: hidden;text-overflow: ellipsis;display:block;-webkit-line-clamp: 3;-webkit-box-orient: vertical;">
													<field name="email_subject"/>
												</span>
											</t>
										</strong>
										<t t-if="record.priority.value">
											<strong>
												<field name="priority" />
											</strong>
										</t>
									</div>
									<div>
										<field name="product_ids" widget="many2many_tags" />
									</div>
									<div>
										<strong style="word-break:breal-all;">
											<field name="partner_id" groups="sh_helpdesk.helpdesk_group_team_leader" />
										</strong>
									</div>
									<div>
										<field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color'}" />
									</div>
									<div>
										<field name="write_date" />
									</div>
									<div>
										<field name="sh_user_ids" widget="many2many_tags"/>
									</div>
									<div class="o_kanban_record_bottom">
										<div class="oe_kanban_bottom_right">
											<strong style="padding-left:5px">
												<field name="user_id"/>
											</strong>
										</div>
									</div>
									<t t-if="record.sh_store_link.value">
										<div style="overflow: hidden;text-overflow: ellipsis;display:block;-webkit-line-clamp: 3;-webkit-box-orient: vertical;">
											<field name="sh_store_link" widget="url" class="fw-bolder" />
										</div>
									</t>
								</div>
								<div class="oe_clear" />
							</div>
						</t>
					</templates>
				</kanban>
			</field>
		</record>
		<record id="helpdesk_ticket_calendar" model="ir.ui.view">
			<field name="name">sh.helpdesk.ticket.calendar</field>
			<field name="model">sh.helpdesk.ticket</field>
			<field name="arch" type="xml">
				<calendar string="Tickets" date_start="create_date" color="user_id">
					<field name="name" />
					<field name="partner_id" />
					<field name="stage_id" />
				</calendar>
			</field>
		</record>
		<record model="ir.ui.view" id="helpdesk_ticket_pivot">
			<field name="name">sh.helpdesk.ticket.pivot</field>
			<field name="model">sh.helpdesk.ticket</field>
			<field name="arch" type="xml">
				<pivot string="Tickets" disable_linking="True">
					<field name="create_date" interval="month" type="row" />
					<field name="stage_id" type="col" />
					<field name="partner_id" type="row" />
				</pivot>
			</field>
		</record>

		<record model="ir.ui.view" id="helpdesk_ticket_graph">
			<field name="name">sh.helpdesk.ticket.graph</field>
			<field name="model">sh.helpdesk.ticket</field>
			<field name="arch" type="xml">
				<graph string="Tickets">
					<field name="stage_id" type="col" />
					<field name="user_id" type="row" />
				</graph>
			</field>
		</record>
		<record id="helpdesk_ticket_action" model="ir.actions.act_window">
			<field name="name">Helpdesk Tickets</field>
			<field name="res_model">sh.helpdesk.ticket</field>
			<field name="view_mode">kanban,tree,form,pivot,graph,calendar,activity</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">Create a New Ticket</p>
			</field>
		</record>
		<menuitem id="helpdesk_tickets_menu" name="Tickets" parent="helpdesk_main_menu" sequence="1" action="helpdesk_ticket_action"/>
		<record model="ir.ui.view" id="helpdesk_ticket_sla_pivot">
			<field name="name">sh.helpdesk.ticket</field>
			<field name="model">sh.helpdesk.ticket</field>
			<field name="arch" type="xml">
				<pivot string="Helpdesk SLA Analysis" disable_linking="True">
					<field name="team_id" type="row"/>
					<field name="stage_id" type="row"/>
					<field name="create_date" interval="month" type="col"/>
					<field name="sh_status" type="col"/>
					<field name="sh_days_to_reach" type="measure"/>
					<field name="sh_days_to_late" type="measure"/>
				</pivot>
			</field>
		</record>
		<record id="helpdesk_ticket_sla_action" model="ir.actions.act_window">
			<field name="name">Helpdesk SLA Analysis</field>
			<field name="res_model">sh.helpdesk.ticket</field>
			<field name="view_mode">pivot</field>
		</record>
		<menuitem id="menu_helpdesk_sla_analysis" name="Helpdesk SLA Analysis" parent="sh_helpdesk.helpdesk_reporting_menu" action="helpdesk_ticket_sla_action" groups="sh_helpdesk.group_helpdesk_sla_policy" />

		<record id="portal_share_action" model="ir.actions.act_window">
			<field name="name">Share</field>
			<field name="res_model">portal.share</field>
			<field name="view_mode">form</field>
			<field name="target">new</field>
			<field name="binding_model_id" ref="sh_helpdesk.model_sh_helpdesk_ticket"/>
			<field name="binding_view_types">form</field>
		</record>
		<record id="sh_model_helpdesk_ticket_action_stop_spaming" model="ir.actions.server">
			<field name="name">Add to spam</field>
			<field name="model_id" ref="sh_helpdesk.model_sh_helpdesk_ticket"/>
			<field name="binding_model_id" ref="sh_helpdesk.model_sh_helpdesk_ticket"/>
			<field name="state">code</field>
			<field name="code">action = records.action_stop_spaming_ticket()</field>
		</record>
	</data>
</odoo>