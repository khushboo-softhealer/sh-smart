<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<record id="sh_partner_category_form_view_inherit" model="ir.ui.view">
		<field name="name">partner.category.form.view.inherit</field>
		<field name="model">res.partner</field>
		<field name="inherit_id" ref="base.view_partner_form"/>
		<field name="arch" type="xml">
			<field name="vat" position="before">
				<field name="partner_category_id" groups="sales_team.group_sale_manager" />
			</field>
		</field>
	</record>

	<!-- Customer -->

	<record id="sh_action_customer_category_event_inherit" model="ir.actions.act_window">
		<field name="name">Customer By Category</field>
		<field name="res_model">res.partner</field>
		<field name="view_mode">kanban,tree,form</field>
		<field name="context">{'search_default_customer':1,'search_default_group_partner_category_id': 1}</field>
	</record>

	<record id="sh_customer_vendor_category_search_view_inherit" model="ir.ui.view">
		<field name="name">customer.vendor.category.search</field>
		<field name="model">res.partner</field>
		<field name="inherit_id" ref="base.view_res_partner_filter"/>
		<field name="arch" type="xml">
			<field name="parent_id" position="after">
				<field name="partner_category_id"/>
			</field>
			<xpath expr="//group" position="inside">
				<filter name ="group_partner_category_id" string="Partner Category " context="{'group_by':'partner_category_id'}"/>
			</xpath>
		</field>
	</record>

	<!-- Vendor -->

	<record id="sh_action_vendor_category_event_inherit" model="ir.actions.act_window">
		<field name="name">Vendor By Category</field>
		<field name="res_model">res.partner</field>
		<field name="view_mode">kanban,tree,form</field>
		<field name="context">{'search_default_supplier': 1,'default_customer': 0,'default_supplier': 1, 'default_company_type': 'company','search_default_group_partner_category_id': 1}</field>
	</record>

	<!--  Partner Category -->

	<record id="sh_partner_category_form" model="ir.ui.view">
		<field name="name">partner.category.form</field>
		<field name="model">partner.category</field>
		<field name="arch" type="xml">
			<form>
				<sheet>
					<group>
						<group>
							<field name="name"/>
							<field name="from_invoice_amount"/>
							<field name="to_invoice_amount"/>
						</group>
					</group>
				</sheet>
			</form>
		</field>
	</record>

	<record id="sh_partner_category_tree" model="ir.ui.view">
		<field name="name">partner.category.tree</field>
		<field name="model">partner.category</field>
		<field name="arch" type="xml">
			<tree>
				<field name="sequence" widget="handle"></field>
				<field name="name"/>
				<field name="from_invoice_amount"/>
				<field name="to_invoice_amount"/>
			</tree>
		</field>
	</record>

	<record id="sh_action_partner_category" model="ir.actions.act_window">
		<field name="name">Partner Category</field>
		<field name="res_model">partner.category</field>
		<field name="view_mode">tree,form</field>
		<!-- 			 -->
	</record>

	<menuitem id="menu_sales_customer" name="Partner" parent="sale.sale_order_menu" groups="sales_team.group_sale_manager" sequence="99"/>
	<menuitem id="menu_partner_customer_category" name="Partner Category" action="sh_action_partner_category" parent="menu_sales_customer" sequence="2"/>
	<menuitem id="menu_partner_customer" name="Customers" action="sh_action_customer_category_event_inherit" parent="menu_sales_customer" sequence="1"/>

	<menuitem id="menu_purchase_vendor" name="Partner" parent="purchase.menu_procurement_management" groups="purchase.group_purchase_manager" sequence="99"/>
	<menuitem id="menu_partner_vendor_category" name="Partner Category" action="sh_action_partner_category" parent="menu_purchase_vendor" sequence="2"/>
	<menuitem id="menu_partner_vendor" name="Vendors" action="sh_action_vendor_category_event_inherit" parent="menu_purchase_vendor" sequence="1"/>
</odoo>