<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="sh_base_module_kanban_inherit" model="ir.ui.view">
        <field name="name">Apps Kanban</field>
        <field name="model">ir.module.module</field>
        <field name="inherit_id" ref="base.module_view_kanban" />
        <field eval="100" name="priority"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='button_immediate_install']" position="after">
                <button type="object" class="btn btn-primary btn-sm" name="button_immediate_upgrade" t-if="! record.to_buy.raw_value and installed">Upgrade</button>
                <button type="object" class="btn btn-secondary btn-sm" name="button_uninstall_wizard" t-if="! record.to_buy.raw_value and installed">Uninstall</button>
            </xpath>
            <xpath expr="//div[hasclass('oe_module_action')]/div[1]" position="replace"></xpath>
        </field>
    </record>
    <record id="sh_base_module_tree_inherit" model="ir.ui.view">
        <field name="name">ir.module.module.tree</field>
        <field name="model">ir.module.module</field>
        <field name="inherit_id" ref="base.module_tree" />
        <field name="arch" type="xml">
            <field name="state" position="after">
                <field name="to_buy" invisible="1" />
                <button name="button_immediate_install" string="Install" attrs="{'invisible': ['|', ('to_buy','=',True), ('state','!=', 'uninstalled')]}" type="object" class="btn btn-primary" />
                <button name="button_immediate_upgrade" states="installed" string="Upgrade" type="object" class="btn btn-primary" />
                <button name="button_uninstall_wizard" states="installed" string="Uninstall" type="object" class="btn btn-secondary" />
            </field>
        </field>
    </record>
</odoo>
