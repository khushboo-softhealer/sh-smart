<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <record id="sh_update_project_wizard_view_form" model="ir.ui.view">
        <field name="name">sh.update.project.wizard.view.form</field>
        <field name="model">sh.update.project.wizard</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <group>
                        <group>
                            <field name="name" />
                            <field name="project_id" readonly="1"/>
                            <field name="sh_project_stage_ids" widget="many2many_tags" invisible="1"/>
                            <field name="stage_id" options="{'no_create': True, 'no_create_edit':True}"/>
                            <!-- <field name="stage_id" domain="[('id','in',sh_project_stage_ids)]" options="{'no_create': True, 'no_create_edit':True}"/> -->
                            <field name="end_date" />
                        </group>
                        <group>
                            <field name="tag_ids" widget="many2many_tags" />
                            <field name="default_task_user_ids" widget="many2many_tags" />
                            <label for="support_start_date" string="Support Date"/>
                            <div name="dates" class="o_row">
                                <field name="support_start_date" widget="daterange" options="{&quot;related_end_date&quot;: &quot;support_end_date&quot;}"/>
                                <i class="fa fa-long-arrow-right mx-2 oe_edit_only" aria-label="Arrow icon" title="Arrow"/>
                                <i class="fa fa-long-arrow-right mx-2 oe_read_only" aria-label="Arrow icon" title="Arrow" attrs="{'invisible': [('support_start_date', '=', False), ('support_end_date', '=', False)]}"/>
                                <field name="support_end_date" widget="daterange" options="{&quot;related_start_date&quot;: &quot;support_start_date&quot;}"/>
                            </div>
                        </group>

                        <field name="sale_line_estimation_line" options="{'delete':false,'unlink':false}">
                            <tree editable="bottom" >
                                <field name="department_id" readonly="1" />
                                <field name="label_id" readonly="1" />
                                <field name="estimated_hours" readonly="1" />
                                <field name="accountable_user_ids" widget="many2many_tags" readonly="1" />
                                <field name="responsible_user_ids" widget="many2many_tags" readonly="1" />
                                <field name="other_details" optional="hide" />
                                <field name="from_date" readonly="1" />
                                <field name="to_date" readonly="1" />
                                <field name="actual_from_date" />
                                <field name="actual_to_date" />

                            </tree>
                        </field>
                    </group>
                </sheet>
                <footer>
                    <button string="Update" name="update_project" type="object" class="oe_highlight" />
                    <button string="Cancel" special="cancel" />
                </footer>
            </form>
        </field>
    </record>
</odoo>